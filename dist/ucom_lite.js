var p="attributeChangedCallback",d="connectedCallback",g="disconnectedCallback",U="formAssociatedCallback",F="formDisabledCallback",W="formResetCallback",z="formStateRestoreCallback",f="u-com",q=[p,d,g,U,F,W,z],b="formAssociated",M="observedAttributes",j=new Set(["constructor",...q]),P=e=>/^[a-z]+\-[a-z0-9]+$/.test(e);function x(e){return!!(e in j||e.startsWith("$"))}var w=(e,t)=>t in(e?.attributes??{});var D=(e,...t)=>Array.from(e.children).filter(({tagName:n})=>t.includes(n));function O(e,t,n){let o=new RegExp(`.*?([a-z]+-[a-z0-9]+)(${t}|${n})$`).exec(e);if(!o)throw Error(`Problem resolving '${e}'`);let[,s,i]=o;return i===n&&(e+=`/${s}${t}`),{name:s,resolved:import.meta.resolve(e)}}async function I(e){let t=await fetch(e);if(!t.ok)throw new C(e,`Status ${t.status}`);if(!t.headers.get("Content-Type")?.startsWith("text/html"))throw new C(e,"Content-Type is not text/html");let n=await t.text();if(n.startsWith("<!DOCTYPE"))throw new C(e,"Content started with <!DOCTYPE");let r=document.createElement("template");return r.innerHTML=n,Object.freeze(r),r}var C=class extends Error{resolved;reason;constructor(t,n="Unspecified"){super(),this.resolved=t,this.reason=n}};async function v(e,t,n){let{name:r,tpl:o}=n,s=o.content.cloneNode(!0);if(s.querySelector("template[shadowrootmode]"))throw`Component '${r}' used template attribute 'shadowrootmode'. Declarative Shadow Dom (DSD) is not allowed.`;await t.parse({man:e,def:n,frag:s});let[i,a,l,m,c]=await Q(s),u=K(e,t,n,i,s,l,c);return await t.define({man:e,Com:u,Raw:i,frag:s,exports:a}),customElements.define(r,u,m),n}async function Q(e){let t=e.querySelector("script");t?.remove();let n=URL.createObjectURL(new Blob([t?.text??""],{type:"text/javascript"})),r=await import(n);URL.revokeObjectURL(n);let{default:o=class extends HTMLElement{},...s}=r,i=/^\+([a-z]+)/,a={};return D(e,"META").forEach(m=>{Array.from(m.attributes).forEach(({name:c,value:u})=>{let L=c.match(i);L&&(a[L[1]]=u,m.remove())})}),[o,s,{mode:a?.mode??"closed",slotAssignment:a?.slotAssignment??void 0,delegatesFocus:"delegatesFocus"in a},{extends:a?.extends},{internals:"internals"in a}]}function k(e){let t=document.createElement("div");return t.appendChild(e.content.cloneNode(!0)),t.innerHTML.split("").reduce((n,r)=>r.charCodeAt(0)+(n<<6)+(n<<16)-n,0).toString()}function K(e,t,n,r,o,s,i){let a=class extends r{static[b]=r[b]??!1;static[M]=[...r[M]??[]];static get def(){return n}#t=this.attachShadow(s);#n=i.internals?this.attachInternals():void 0;constructor(){super(),this.#t.append(o.cloneNode(!0)),t.construct({man:e,Com:a,Raw:r,el:this,shadow:this.#t})}async[p](...l){t[p](this.#e,l),await super[p]?.(...l)}async[d](){t[d](this.#e),await super[d]?.({shadow:this.#t,internals:this.#n})}async[g](){t[g](this.#e),await super[g]?.()}get#e(){return{Com:a,Raw:r,el:this,shadow:this.#t}}};return a}var H=e=>{let t=e.map(r=>new r),n=(r,o)=>t.map(s=>s[r]?.(o)).filter(s=>!!s);return{async start(r){let o=t.map(s=>s.start?.(r));await Promise.all(o)},async parse(r){t.forEach(async o=>await o.parse?.(r))},async define(r){t.forEach(async o=>await o.define?.(r))},construct(r){t.forEach(o=>o.construct?.(r))},[p](r,o){n(p,r).map(async s=>await s(...o))},[d](r){n(d,r).map(async o=>await o())},[g](r){n(g,r).map(async o=>await o())}}};var V="ucom",G=".html",X=".ucom",N=e=>{let t=H(e),n={},r={},o=a=>O(a,G,X),s=(a,l,m)=>(delete r?.[a],v(i,t,{name:a,resolved:l,tpl:m})),i={lazy:r,resolve:o,async start(){document.readyState==="loading"&&await new Promise(a=>document.addEventListener("DOMContentLoaded",a)),t.start({man:i})},registered(a){return a=a.toLowerCase(),a in n||customElements.get(a)!==void 0},async define(a,l){return a=a?a.toLowerCase():`${V}-${k(l)}`,n[a]??=s(a,"",l),n[a]},async import(a,l){let{name:m,resolved:c}=o(a);try{return l??=await I(c),n[m]??=s(m,c,l)}catch(u){u instanceof C&&console.error(`Problem fetching component '${u.resolved}'. Hint: ${u.reason}.`)}}};return i};var y=class{async define({Raw:e,exports:t}){let n=e.prototype;for(let r in t)x(r)||r in n||(n[r]=t[r])}construct({el:e,shadow:t}){Object.assign(e,{$:n=>t.querySelector(n),$$:n=>t.querySelectorAll(n)})}};var T=class{async start({man:e}){let t=document;await A(e,R(t)),Y(e,t)}async parse({man:e,frag:t}){await A(e,R(t))}},A=async(e,t)=>Z(t,async n=>{let r=n.getAttribute(f);if(r)n.remove(),await(P(r)?e.define:e.import)(r,n);else{let o=await e.define(null,n);o&&n.replaceWith(document.createElement(o.name))}}),Y=(e,t)=>new MutationObserver(n=>{A(e,J(n))}).observe(t,{childList:!0,subtree:!0}),J=e=>[...e].map(n=>[...n.addedNodes]).flat().filter(n=>n.nodeType===1).map(n=>n.tagName=="TEMPLATE"?n.hasAttribute(f)?n:null:R(n)).filter(n=>!!n).flat(),R=e=>[...e.querySelectorAll?.(`template[${f}]`)??[]],Z=(e,t)=>Promise.all(e.map(n=>t(n)));var h=class{async parse({frag:e,def:{resolved:t}}){for(let n of e.querySelectorAll("script"))n.text=n.text.replace(/(import|from)\s*("|')(\.{0,2}\/.*?[^\\])\2/g,(r,o,s,i)=>{let a=new URL("",t);return o+s+new URL(i,a)+s});for(let n of e.querySelectorAll("style"))n.innerHTML=n.innerHTML.replace(/(@import)\s*("|')(\.{0,2}\/.*?[^\\])\2/g,(r,o,s,i)=>{let a=new URL("",t);return o+s+new URL(i,a)+s})}};var E=class{async parse({man:e,frag:t}){await $(e,Array.from(t.children))}async define({man:e,Com:t}){Object.assign(t.prototype,{$import:e.import})}construct({man:e,el:t,shadow:n}){t.$importSlot=async r=>{if(!(r instanceof HTMLSlotElement))throw"Invalid arugment.  Must be an HTML Element.";let o=$(e,r.assignedElements());return B(e,_(e,n)),o},tt(e,n)}};async function B(e,t){t.forEach(n=>{let r=e.lazy[n.tagName.toLowerCase()];r&&e.import(r.resolved)})}var tt=(e,t)=>new MutationObserver(n=>{B(e,et(e,n))}).observe(t,{childList:!0,subtree:!0}),et=(e,t)=>[...t].map(r=>[...r.addedNodes]).flat().filter(r=>r.nodeType===1).map(r=>_(e,r)).flat(),_=(e,t)=>{let n=Array.from(t.querySelectorAll(":not(:defined)"));return"tagName"in t&&P(t.tagName.toLowerCase())&&!e.registered(t.tagName)&&n.push(t),n};async function $(e,t){let n=["",!1];return t.map(r=>{if(r instanceof HTMLBaseElement)r.remove(),n=[r.getAttribute("href")??"",w(r,"lazy")];else if(r instanceof HTMLSourceElement)return nt(e,r,n)}).filter(r=>!!r)}function nt(e,t,[n,r]){t.remove();let o=t.getAttribute("src");if(!o){console.error("SOURCE element needs a 'src' attribute");return}let s={};for(let{name:m,value:c}of t.attributes)s[m]=c;let i=e.resolve(n+o),{name:a,resolved:l}=i;return e.registered(a)||(r||w(t,"lazy")?e.lazy[a]=i:e.import(l)),{attributes:s,ident:i}}var S=class{#t;#n=[];async init(){this.#e()}async start(e){this.#n.push(...await this.#e())}construct({shadow:e}){e.adoptedStyleSheets.push(...this.#n)}#e(){return this.#t||(this.#t=this.#r()),this.#t}async#r(){let e=rt(document.head).map(t=>new Promise((n,r)=>{if(t.sheet)return n(t.sheet);t.addEventListener("load",()=>n(t.sheet),!1),t.addEventListener("error",()=>r(new Error("theme failed loading")),!1)})).filter(t=>!!t);return(await Promise.allSettled(e)).filter(t=>t?.status==="fulfilled").map(t=>t.value).map(t=>{let n=new CSSStyleSheet;return n.replaceSync(Array.from(t.cssRules).map(r=>r.cssText).join(" ")),n})}};function rt(e){let t=["LINK","STYLE"].map(n=>`${n}[${f}]`).join(",");return[...e.querySelectorAll(t)]}var ot=N([y,T,h,E,S]);ot.start();
